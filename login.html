<!DOCTYPE html>
<html lang="en">
  <head>
  	<title>Camagru</title>
  	<meta charset="utf-8">
  	<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="the photo gallery project">
    <meta name="keywords" content="photo, photobooth, selfie, likes">
    <meta name="author" content="vdoroshy">
    <link rel="stylesheet" type="text/css" href="./css/reset.css">
    <link rel="stylesheet" type="text/css" href="./css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Orbitron" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Cinzel" rel="stylesheet">
  </head>
  <body>
  	<header>
	  	<div id="logo">
	  	  <h1>Camagru</h1>
	  	</div>
	  	<nav>
	  	  <ul>
	  	    <li class="current"><a href="#">Login</a></li>
	  	    <li><a href="#">Photobooth</a></li>
	  	    <li><a href="#">Gallery</a></li>
	  	  </ul>
	  	</nav>
  	</header>

  	<section>
	    <form novalidate>
        <div>
          <span id="signUp">sign up</span>
        </div>
	      <div class="login-div">
	        <input class="field" name="login" type="text" placeholder="login">
          <span class="error" aria-live="polite"></span>
	      </div>
	      <div class="email-div">
	        <input class="field" name="email" type="email" placeholder="email">
          <span class="error" aria-live="polite"></span>
	      </div>
	      <div class="password-div">
	        <input class="field" name="password" type="password" placeholder="password">
          <span class="error" aria-live="polite"></span>
	      </div>
	      <div class="repeat-password-div">
	        <input class="field" name="repeatPassword" type="password" placeholder="repeat password">
          <span class="error" aria-live="polite"></span>
	      </div>
	      <div>
	      	<button class="button" type="submit">submit</button>
	      </div>
        <div>
	        <span id="haveAccount">Already have an account?</span>
        </div>
        <div>
          <a id="signIn" href="#">sign in</a>
        </div>

	    </form>
  	</section>

  	<footer>
  	  <p>Copyright &copy; 2017 vdoroshy</p>
  	</footer>
    <script>
// TODO
      var formName = document.getElementsByTagName('form')[0];
      var loginName = document.getElementsByName('login')[0];
      var emailName = document.getElementsByName('email')[0];
      var passwordName = document.getElementsByName('password')[0];
      var repeatPasswordName = document.getElementsByName('repeatPassword')[0];
      /*getting login variables*/
      var login = document.querySelector('.login-div');
      var loginError = login.querySelector('.error');
      var loginField = login.querySelector('input');
      /*getting email variables*/
      var email = document.querySelector('.email-div');
      var emailError = email.querySelector('.error');
      var emailField = email.querySelector('input');
      /*getting password variables*/
      var password = document.querySelector('.password-div');
      var passwordError = password.querySelector('.error');
      var passwordField = password.querySelector('input');
      /*getting repeatPassword variables*/
      var repeatPassword = document.querySelector('.repeat-password-div');
      var repeatPasswordError = repeatPassword.querySelector('.error');
      var repeatPasswordField = repeatPassword.querySelector('input');

      formName.addEventListener("submit", function(event) {

        if (loginName.value == "") {
          loginError.textContent = "enter a username";
          loginError.classList.add("activeError");
          loginField.classList.add("invalidField");

          event.preventDefault();
        }

        var reg = /^[a-zA-Z0-9_]+(\.[a-zA-Z0-9_]+)*@[a-zA-Z-]+\.([a-zA-Z]+){2,}(\.([a-zA-Z]+){2,})*$/;
        if (emailName.value == "" || !reg.test(emailName.value)) {
          emailError.textContent = "enter a correct email";
          emailError.classList.add("activeError");
          emailField.classList.add("invalidField");

          event.preventDefault();
        }

        if (passwordName.value == "") {
          passwordError.textContent = "enter a password";
          passwordError.classList.add("activeError");
          passwordField.classList.add("invalidField");

          event.preventDefault();
        }

        if (repeatPasswordName.value == "") {
          repeatPasswordError.textContent = "re-enter your password";
          repeatPasswordError.classList.add("activeError");
          repeatPasswordField.classList.add("invalidField");

          event.preventDefault();
        }

      }, false);

      // function validateEmail(email) {
      //   var reg = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
      //   return reg.test(email);
      // }

    </script>
  </body>
</html>